

<div class="container my-3">

  <div class="d-flex align-items-center justify-content-between">
    <div class="teacher-course-title">
      <h1 class="me-auto">ğŸ§‘â€ğŸ« My courses</h1>
    </div>
    <%= link_to "Open a new Course", new_course_path, class: "btn btn-primary teacher-course-btn"%>
  </div>

  <% if @user %>
    <div class="row mt-2">
      <% @user.courses.each do |course| %>
        <%= render "pages/card", course: course %>
      <% end %>
    </div>

    <div class="teacher-course-title"><h1>ğŸ§‘â€ğŸ“ Sign ups</h1></div>

    <%# @user.courses.each do |course| %>
      <% @bookings.each do |booking| %>
        <% if booking.present? && booking.status == "pending" %>
          <div class="d-flex justify-cotent-between approval-box align-items-center" id="booking_row_<%= booking.id%>">
              <div class="me-auto align-items-center approval-detail">
              <span style="font-weight: bolder">Course:</span> <%= booking.course.title %>. <span style="font-weight: bolder">Booker: </span><%= booking.user.name %>. <span style="font-weight: bolder">Status: </span><%= booking.status %>.
            </div>
            <%= button_to "Accept", booking_path(booking, status: :accepted), class: "btn btn-primary teacher-course-btn approval-btn", method: :patch, data:{ turbo_method: :patch} %>
            <%= button_to "Reject", booking_path(booking, status: :rejected), class: "btn btn-primary teacher-course-btn approval-btn", method: :patch, data:{ turbo_method: :patch} %>
          </div>
          <% elsif booking.present? && booking.status == "accepted" %>
          <div class="d-flex justify-cotent-between approval-box align-items-center accepted" id="booking_row_<%= booking.id%>">
              <div class="me-auto align-items-center approval-detail">
              <span style="font-weight: bolder">Course:</span> <%= booking.course.title %>. <span style="font-weight: bolder">Booker: </span><%= booking.user.name %>. <span style="font-weight: bolder">Status: </span><%= booking.status %>.
            </div>
          </div>
          <% elsif booking.present? && booking.status == "rejected" %>
          <div class="d-flex justify-cotent-between approval-box align-items-center rejected" id="booking_row_<%= booking.id%>">
              <div class="me-auto align-items-center approval-detail">
              <span style="font-weight: bolder">Course:</span> <%= booking.course.title %>. <span style="font-weight: bolder">Booker: </span><%= booking.user.name %>. <span style="font-weight: bolder">Status: </span><%= booking.status %>.
            </div>
          </div>
        <% end %>
      <% end %>
    <%# end %>
  <% end %>

</div>
